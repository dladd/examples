<?xml version="1.0" encoding="UTF-8"?>
<Fieldml version="0.5"
  xsi:noNamespaceSchemaLocation="http://www.fieldml.org/resources/xml/0.5/FieldML_0.5.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xlink="http://www.w3.org/1999/xlink">
 <Region name="Artery">
  <Import xlink:href="http://www.fieldml.org/resources/xml/0.5/FieldML_Library_0.5.xml" region="library">
    <ImportType localName="real.type" remoteName="real.1d"/>
    <ImportType localName="triquadratic.parameters.type" remoteName="parameters.3d.unit.triquadraticLagrange"/>
    <ImportType localName="trilinear.parameters.type" remoteName="parameters.3d.unit.trilinearLagrange"/>
    <ImportType localName="rc3.ensemble" remoteName="coordinates.rc.3d.component"/>
    <ImportType localName="rc3.type" remoteName="coordinates.rc.3d"/>
    <ImportEvaluator localName="triquadratic.node.argument" remoteName="localNodes.3d.cube3x3x3.argument"/>
    <ImportEvaluator localName="triquadratic.parameters.argument" remoteName="parameters.3d.unit.triquadraticLagrange.argument"/>
    <ImportEvaluator localName="triquadratic.interpolator" remoteName="interpolator.3d.unit.triquadraticLagrange"/>
    <ImportEvaluator localName="trilinear.node.argument" remoteName="localNodes.3d.cube2x2x2.argument"/>
    <ImportEvaluator localName="trilinear.parameters.argument" remoteName="parameters.3d.unit.trilinearLagrange.argument"/>
    <ImportEvaluator localName="trilinear.interpolator" remoteName="interpolator.3d.unit.trilinearLagrange"/>
    <ImportEvaluator localName="chart.argument" remoteName="chart.3d.argument"/>
    <ImportEvaluator localName="rc3.component.argument" remoteName="coordinates.rc.3d.component.argument"/>
    <ImportEvaluator localName="shape.unit.cube" remoteName="shape.unit.cube"/>
  </Import>

  <EnsembleType name="ArteryMesh.nodes">
   <Members>
    <MemberRange min="1" max="4933" />
   </Members>
  </EnsembleType>


  <ArgumentEvaluator name="ArteryMesh.nodes.argument" valueType="ArteryMesh.nodes" />


  <MeshType name="ArteryMesh.mesh">
    <Elements name="element">
     <Members>
       <MemberRange min="1" max="540"/>
     </Members>
    </Elements>
    <Chart name="xi">
      <Components name="xi" count="3"/>
    </Chart>
    <Shapes evaluator="shape.unit.cube" />
  </MeshType>

  <ArgumentEvaluator name="ArteryMesh.mesh.argument" valueType="ArteryMesh.mesh" />


  <ArgumentEvaluator name="ArteryMesh.nodal_dofs" valueType="real.type" />

  <DataResource name="ArteryMesh.node.coordinates.resource">
    <DataResourceDescription>
      <DataResourceHref xlink:href="stenosedIliac540.C" format="PLAIN_TEXT"/>
    </DataResourceDescription>
    <ArrayDataSource name="ArteryMesh.node.coordinates.data" location="2" rank="2">
      <RawArraySize>
        4933 3
      </RawArraySize>
    </ArrayDataSource>
  </DataResource>

  <DataResource name="ArteryMesh.triquadratic.ordering.resource">
    <DataResourceDescription>
      <DataResourceString>
	1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27
      </DataResourceString>
    </DataResourceDescription>
    <ArrayDataSource name="ArteryMesh.triquadratic.ordering.data" location="1" rank="1">
      <RawArraySize>
        27
      </RawArraySize>
    </ArrayDataSource>
  </DataResource>

  <DataResource name="ArteryMesh.trilinear.ordering.resource">
    <DataResourceDescription>
      <DataResourceString>
	1 2 3 4 5 6 7 8
      </DataResourceString>
    </DataResourceDescription>
    <ArrayDataSource name="ArteryMesh.trilinear.ordering.data" location="1" rank="1">
      <RawArraySize>
        8
      </RawArraySize>
    </ArrayDataSource>
  </DataResource>

  <DataResource name="ArteryMesh.nodes.resource">
    <DataResourceDescription>
      <DataResourceHref xlink:href="stenosedIliac540.M" format="PLAIN_TEXT"/>
    </DataResourceDescription>
    <ArrayDataSource name="ArteryMesh.cube3x3x3.nodes.data" location="2" rank="2">
      <RawArraySize>
        540 27
      </RawArraySize>
    </ArrayDataSource>
    <ArrayDataSource name="ArteryMesh.cube2x2x2.nodes.data" location="542" rank="2">
      <RawArraySize>
        540 8
      </RawArraySize>
    </ArrayDataSource>
  </DataResource>

  <ParameterEvaluator name="ArteryMesh.cube3x3x3_nodes" valueType="ArteryMesh.nodes">
   <DenseArrayData data="ArteryMesh.cube3x3x3.nodes.data">
    <DenseIndexes>
     <IndexEvaluator evaluator="triquadratic.node.argument" order="ArteryMesh.triquadratic.ordering.data"/>
     <IndexEvaluator evaluator="ArteryMesh.mesh.argument.element" />
    </DenseIndexes>
   </DenseArrayData>
  </ParameterEvaluator>


  <ParameterEvaluator name="ArteryMesh.cube2x2x2_nodes" valueType="ArteryMesh.nodes">
   <DenseArrayData data="ArteryMesh.cube2x2x2.nodes.data">
    <DenseIndexes>
     <IndexEvaluator evaluator="trilinear.node.argument" order="ArteryMesh.trilinear.ordering.data"/>
     <IndexEvaluator evaluator="ArteryMesh.mesh.argument.element" />
    </DenseIndexes>
   </DenseArrayData>
  </ParameterEvaluator>


  <AggregateEvaluator name="ArteryMesh.element_params.triquadratic_lagrange" valueType="triquadratic.parameters.type">
   <Bindings>
    <BindIndex argument="triquadratic.node.argument" indexNumber="1" />
    <Bind argument="ArteryMesh.nodes.argument" source="ArteryMesh.cube3x3x3_nodes" />
   </Bindings>
   <ComponentEvaluators default="ArteryMesh.nodal_dofs" />
  </AggregateEvaluator>


  <ReferenceEvaluator name="ArteryMesh.triquadratic_lagrange" evaluator="triquadratic.interpolator" valueType="real.type">
   <Bindings>
    <Bind argument="chart.argument" source="ArteryMesh.mesh.argument.xi" />
    <Bind argument="triquadratic.parameters.argument" source="ArteryMesh.element_params.triquadratic_lagrange" />
   </Bindings>
  </ReferenceEvaluator>


  <AggregateEvaluator name="ArteryMesh.element_params.trilinear_lagrange" valueType="trilinear.parameters.type">
   <Bindings>
    <BindIndex argument="trilinear.node.argument" indexNumber="1" />
    <Bind argument="ArteryMesh.nodes.argument" source="ArteryMesh.cube2x2x2_nodes" />
   </Bindings>
   <ComponentEvaluators default="ArteryMesh.nodal_dofs" />
  </AggregateEvaluator>


  <ReferenceEvaluator name="ArteryMesh.trilinear_lagrange" evaluator="trilinear.interpolator" valueType="real.type">
   <Bindings>
    <Bind argument="chart.argument" source="ArteryMesh.mesh.argument.xi" />
    <Bind argument="trilinear.parameters.argument" source="ArteryMesh.element_params.trilinear_lagrange" />
   </Bindings>
  </ReferenceEvaluator>


  <PiecewiseEvaluator name="ArteryMesh.template.trilinear" valueType="real.type">
   <IndexEvaluators>
    <IndexEvaluator evaluator="ArteryMesh.mesh.argument.element" indexNumber="1" />
   </IndexEvaluators>
   <EvaluatorMap default="ArteryMesh.trilinear_lagrange" />
  </PiecewiseEvaluator>


  <PiecewiseEvaluator name="ArteryMesh.template.triquadratic" valueType="real.type">
   <IndexEvaluators>
    <IndexEvaluator evaluator="ArteryMesh.mesh.argument.element" indexNumber="1" />
   </IndexEvaluators>
   <EvaluatorMap default="ArteryMesh.triquadratic_lagrange" />
  </PiecewiseEvaluator>

  <ParameterEvaluator name="ArteryMesh.node.coordinates" valueType="real.type">
   <DenseArrayData data="ArteryMesh.node.coordinates.data">
    <DenseIndexes>
     <IndexEvaluator evaluator="rc3.component.argument" />
     <IndexEvaluator evaluator="ArteryMesh.nodes.argument" />
    </DenseIndexes>
   </DenseArrayData>
  </ParameterEvaluator>
  
  <AggregateEvaluator name="ArteryMesh.coordinates" valueType="rc3.type">
   <Bindings>
    <Bind argument="ArteryMesh.nodal_dofs" source="ArteryMesh.node.coordinates" />
   </Bindings>
   <ComponentEvaluators default="ArteryMesh.template.triquadratic" />
  </AggregateEvaluator>

 </Region>
</Fieldml>
