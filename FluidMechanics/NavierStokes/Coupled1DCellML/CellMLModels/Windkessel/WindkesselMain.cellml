<?xml version="1.0"?>
<model xmlns="http://www.cellml.org/cellml/1.1#" xmlns:cmeta="http://www.cellml.org/metadata/1.0#" cmeta:id="WindkesselMain" name="WindkesselMain">

<!-- Model description -->
  <documentation xmlns="http://cellml.org/tmp-documentation">
    <article>
      <articleinfo>
        <title>Windkessel (RCR) model for terminal vascular impedance</title>
        <author>
          <firstname>David</firstname>
          <surname>Ladd</surname>
          <affiliation>
            <shortaffil>Auckland Bioengineering Institute</shortaffil>
          </affiliation>
        </author>
      </articleinfo>
      <section id="sec_status">
        <title>Model Status</title>
        <para>
            This model describes a zero-dimensional 3-Element (RCR) Windkessel model that may be coupled to fluid mechanics simulations to approximate impedance to flow from downstream vascular beds. 
          </para>

      </section>
      <sect1 id="sec_structure">
        <title>Model Structure</title>
        <para>
The model contains both a resistance component and a lowpass filter (RC) component. the 3 element windkessel model is created by connecting these two components. Parameter values are stored in the ParameterValues.cellml file and Units in Units.cellml.   comprises three main parts: the heart, the systemic loop, and the pulmonary loop, as illustrated in Fig. 1.  The heart is modelled as a four-chambered pump with variable elastance and four heart valves to control the direction of blood flow. Systemic and pulmonary circulatory loops are sub-divided into a number of segments, namely: the aortic sinus/pulmonary artery sinus, artery, arteriole, capillary and vein segments. In each segment, individual components are modelled by representations of the local resistance to blood flow, vessel elasticity and the inertia of the blood. 
</para>

<informalfigure float="0" id="system_configuration">
<mediaobject>
  <imageobject>
    <objectinfo>
      <title>Schematic of the system configuration of the cardiovascular model
</title>
    </objectinfo>
    <imagedata fileref="CSysBase.png"/>
  </imageobject>
</mediaobject>
<caption>Schematic of the system configuration of the cardiovascular model</caption>
</informalfigure>
<para>
For the CellML representation of the model, several template components are defined: namely, TempRLC, TempRC, TempR, TempCDv, TempCDa, EAtrium and EVentricle.  The first three of these provide zero dimensional representations of the linearised governing equations for pressure and flow in the vessel segments.  TempCDv and TempCDa define the variable elastances of the cardiac chambers together with the heart valve dynamics. EAtrium and EVentricle define the activation functions, which are used in the calculation of these variable elastances.  In addition to the templates, a further component, </para>
      </sect1>
    </article>
  </documentation>


<import xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="Units.cellml">
<units name="UnitP" units_ref="UnitP"/>
<units name="UnitQ" units_ref="UnitQ"/>
</import>

<import xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="Windkessel3Element.cellml">
<component component_ref="Windkessel3Element" name="Circuit"/>
</import>

<component name="environment">
<variable initial_value="0.0" name="t" public_interface="out" units="second"/>
</component>

<connection>
<map_components component_1="environment" component_2="Circuit"/>
<map_variables variable_1="t" variable_2="t"/>
</connection>

<connection>
<map_components component_1="interface" component_2="Circuit"/>
<map_variables variable_1="Pressure" variable_2="Pinterface"/>
<map_variables variable_1="FlowRate" variable_2="Qinterface"/>
</connection>

<RDF:RDF xmlns:RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <RDF:Description RDF:about="#WindkesselMain">
    <NS1:simulation xmlns:NS1="http://www.cellml.org/metadata/simulation/1.0#" RDF:resource="rdf:#$3.sa72"/>
  </RDF:Description>
  <RDF:Description xmlns:NS1="http://www.cellml.org/metadata/simulation/1.0#" RDF:about="rdf:#$5.sa72" NS1:nonstandard-pointDensity="10000"/>
  <RDF:Description RDF:about="rdf:#$4.sa72">
    <RDF:first RDF:resource="rdf:#$5.sa72"/>
    <RDF:rest RDF:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
  </RDF:Description>
  <RDF:Description RDF:about="rdf:#$3.sa72">
    <NS1:boundIntervals xmlns:NS1="http://www.cellml.org/metadata/simulation/1.0#" RDF:resource="rdf:#$4.sa72"/>
  </RDF:Description>
</RDF:RDF>

	<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
    
	<rdf:Description rdf:about="">
	  <dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Windkessel (RCR) model for terminal vascular impedance</dc:title>
      <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
        <vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
          <vCard:Family>Ladd</vCard:Family>
		  <vCard:Given>David</vCard:Given>
        </vCard:N>
		<vCard:ORG xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
          <vCard:Orgname>The Auckland Bioengineering Institute</vCard:Orgname>
        </vCard:ORG>
      </dc:creator>
    </rdf:Description>
    
    <rdf:Description rdf:about="#WindkesselMain">
	  <bqs:reference xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:parseType="Resource">
        <dc:subject xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
          <bqs:subject_type>keyword</bqs:subject_type>
          <rdf:value>
            <rdf:Bag>
              <rdf:li>cardiac</rdf:li>
	      <rdf:li>cardiovascular circulation</rdf:li>
	      <rdf:li>multiphysics</rdf:li>
	      <rdf:li>multiscale</rdf:li>
	      <rdf:li>OpenCMISS</rdf:li>
            </rdf:Bag>
          </rdf:value>
        </dc:subject>
      </bqs:reference>
	  
    </rdf:Description>
  </rdf:RDF>
<component name="interface"><variable name="Pressure" private_interface="out" public_interface="in" units="UnitP"/><variable initial_value="0.0" name="FlowRate" public_interface="out" units="UnitQ"/></component></model>